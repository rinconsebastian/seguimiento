@model seguimiento.Models.NotaIndicador

@{
    Layout = null;
}

   <div class="form-notas-width2 titulo-nota-indicador">
    <h4 class="">Nota @Html.DisplayFor(model => model.Titulo)</h4>

    <div class="row">
        <div class="col-md-6 pr-md-4">
            <dl class="row">
                <dt class="NotaDisplayText ajuste-list-nota-ccs col-md-5">
                    @Html.DisplayNameFor(model => model.Id)
                </dt>

                <dd class="NotaDisplayText ajuste-list-nota-ccs col-md-7">
                    @Html.DisplayFor(model => model.Id)
                </dd>

                <dt class="NotaDisplayText ajuste-list-nota-ccs col-md-12">
                    @Html.DisplayName("Análisis de causas")
                </dt>

                <dd class="NotaDisplayText col-md-12">
                    @Html.TextAreaFor(model => model.Texto, htmlAttributes: new { @class = "form-control nota-details-textarea", rows = "3", @readonly = "true" })
                </dd>



            </dl>
        </div>
        <div class="col-md-6 pl-md-4">
            <dl class="row">


                <dt class="NotaDisplayText ajuste-list-nota-ccs col-md-6">
                    @Html.DisplayName("F Creación")
                </dt>

                <dd class="NotaDisplayText ajuste-list-nota-ccs col-md-6">
                    @Html.DisplayFor(model => model.FechaActualizacion)
                </dd>


                <dt class="NotaDisplayText ajuste-list-nota-ccs col-md-6">
                    @Html.DisplayName("F Actualizada")
                </dt>

                <dd class="NotaDisplayText ajuste-list-nota-ccs col-md-6">
                    @Html.DisplayFor(model => model.FechaActualizacion)
                </dd>
                <dt class="NotaDisplayText ajuste-list-nota-ccs col-md-6">
                    @Html.DisplayName("Usuario")
                </dt>

                <dd class="NotaDisplayText ajuste-list-nota-ccs col-md-6">
                    @Html.DisplayFor(model => model.User.Nombre) @Html.DisplayFor(model => model.User.Apellido)
                </dd>
                <dt class="NotaDisplayText ajuste-list-nota-ccs col-md-6">
                    @Html.DisplayNameFor(model => model.Estado)
                </dt>

                <dd class="NotaDisplayText ajuste-list-nota-ccs col-md-6">
                    @Html.DisplayFor(model => model.Estado)
                </dd>
                <dt class="NotaDisplayText ajuste-list-nota-ccs col-md-4">
                    @Html.DisplayNameFor(model => model.Adjunto)
                </dt>

                <dd class="NotaDisplayText ajuste-list-nota-ccs col-md-8">
                    @if (@Model.Adjunto != null && @Model.Adjunto != "")
                    {
                        @Html.ActionLink(@Model.Adjunto, @Model.Adjunto, "UploadedFiles", new { }, htmlAttributes: new { target = "_blank", id = "urlAdjunto" })
                    }



                </dd>
            </dl>
        </div>
    </div>
    <div class="d-flex flex-row justify-content-center">
        <div class="p-1 font-small"><b>PLAN DE ACCION</b></div>
        
    </div>
    <div class="row font-small borde-div-ccs">
        <div class="col-md-1"><b>N</b></div>
        <div class="col-md-5"><b>Acción a tomar</b></div>
        <div class="col-md-2"><b>Responsable</b></div>
        <div class="col-md-2"><b>F inicio</b></div>
        <div class="col-md-2"><b>F fin</b></div>
    </div>
    <div class="row  font-small borde-div-ccs">
        <div class="col-md-1">1</div>
        <div class="col-md-5">@Html.DisplayFor(model => model.Accion1)</div>
        <div class="col-md-2">@Html.DisplayFor(model => model.Responsable1)</div>
        <div class="col-md-2">@(Model.FechaInicio1 == null ? "" : Model.FechaInicio1.Value.ToString("dd/MM/yyyy"))</div>
        <div class="col-md-2">@(Model.FechaFinal1 == null ? "" : Model.FechaFinal1.Value.ToString("dd/MM/yyyy"))</div>
    </div>
     <div class="row  font-small borde-div-ccs">
        <div class="col-md-1">2</div>
        <div class="col-md-5">@Html.DisplayFor(model => model.Accion2)</div>
        <div class="col-md-2">@Html.DisplayFor(model => model.Responsable2)</div>
         <div class="col-md-2">@(Model.FechaInicio2 == null ? "" : Model.FechaInicio2.Value.ToString("dd/MM/yyyy"))</div>
        <div class="col-md-2">@(Model.FechaFinal2 == null ? "" : Model.FechaFinal2.Value.ToString("dd/MM/yyyy"))</div>
    </div>
     <div class="row  font-small borde-div-ccs">
        <div class="col-md-1">3</div>
        <div class="col-md-5">@Html.DisplayFor(model => model.Accion3)</div>
        <div class="col-md-2">@Html.DisplayFor(model => model.Responsable3)</div>
         <div class="col-md-2">@(Model.FechaInicio3 == null ? "" : Model.FechaInicio3.Value.ToString("dd/MM/yyyy"))</div>
        <div class="col-md-2">@(Model.FechaFinal3 == null ? "" : Model.FechaFinal3.Value.ToString("dd/MM/yyyy"))</div>
    </div>


    <div class="d-flex flex-row justify-content-center">
        <div class="p-1 font-small"><b>SEGUIMIENTO</b></div>
        
    </div>
    <div class="row font-small borde-div-ccs">
        <div class="col-md-1"><b>N</b></div>
        <div class="col-md-2"><b>Fecha</b></div>
        <div class="col-md-5"><b>Desc resultado</b></div>
        <div class="col-md-2"><b>Soporte</b></div>
        <div class="col-md-2"><b>Cerrada</b></div>
    </div>
    <div class="row  font-small borde-div-ccs">
        <div class="col-md-1">1</div>
        <div class="col-md-2">@(Model.FechaSeg1 == null ? "" : Model.FechaSeg1.Value.ToString("dd/MM/yyyy"))</div>
        <div class="col-md-5">@Html.DisplayFor(model => model.Descripcion1)</div>
        <div class="col-md-2 centrar">@if (@Model.Soporte1 != null && @Model.Soporte1 != ""){@Html.ActionLink("Soporte1", @Model.Soporte1, "UploadedFiles", new { }, htmlAttributes: new { target = "_blank", id = "urlAdjunto" }) }</div>
        <div class="col-md-2">@Html.DisplayFor(model => model.Cerrada1)</div>
    </div>
    <div class="row  font-small borde-div-ccs">
        <div class="col-md-1">2</div>
        <div class="col-md-2">@(Model.FechaSeg2 == null ? "" : Model.FechaSeg2.Value.ToString("dd/MM/yyyy"))</div>
        <div class="col-md-5">@Html.DisplayFor(model => model.Descripcion2)</div>
        <div class="col-md-2 centrar">@if (@Model.Soporte2 != null && @Model.Soporte2 != ""){@Html.ActionLink("Soporte2",  @Model.Soporte2, "UploadedFiles", new { }, htmlAttributes: new { target = "_blank", id = "urlAdjunto" }) }</div>
        <div class="col-md-2">@Html.DisplayFor(model => model.Cerrada2)</div>
    </div>
    <div class="row  font-small borde-div-ccs">
        <div class="col-md-1">3</div>
        <div class="col-md-2">@(Model.FechaSeg3 == null ? "" : Model.FechaSeg3.Value.ToString("dd/MM/yyyy"))</div>
        <div class="col-md-5">@Html.DisplayFor(model => model.Descripcion3)</div>
        <div class="col-md-2 centrar">@if (@Model.Soporte3 != null && @Model.Soporte3 != ""){@Html.ActionLink("Soporte3", @Model.Soporte3, "UploadedFiles", new { }, htmlAttributes: new { target = "_blank", id = "urlAdjunto" }) }</div>
        <div class="col-md-2">@Html.DisplayFor(model => model.Cerrada3)</div>
    </div>
    
    

</div>
    <div class="modal-footer">
        @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "NotaDeleteForm" }))
        {
            @Html.AntiForgeryToken()

            <input type="hidden" value="@Model.Id" name="id" id="id" />
            <div class="form-actions no-color">
                <button type="button" class="btn btn-outline-dark NotasIndicadorVolver" aria-label="Left Align" data-id="@Model.Id" data-indicador="@Model.Indicador.id">
                    <span class="glyphicon glyphicon-arrow-left" aria-hidden="true">Volver</span>
                </button>
                @if (ViewBag.editar && ViewBag.userFull != null)
                {
                    if ((ViewBag.editar && ViewBag.userFull.Id == Model.User.Id) )
                    {
                        <button type="button" class="btn btn-outline-primary NotaIndicadorDelete" aria-label="Left Align" data-id="@Model.Id" data-indicador="@Model.Indicador.id">
                            <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true">Borrar</span>
                        </button>
                    }
                }
            </div>
        }

    </div>
